ssh connection to ec2 or any other servers.

1: for ec2 connect we need to mentioned the generated key to connect to target server using the command

ssh -i Path_to_key_file user@ip of the user
e.g 

ssh -i ~/keyfile.pem ubuntu@172.31.1.1          : If key is .pem 

we can also connect using ip only along with the key mention
e.g: ssh -i ~/keyfile.pem 172.31.1.1        # This is the private Ip address and connection will establish if in same vpc

to avoid mentioned key again and agian we should make passwordless authentication. 
this can be done using the below command: Make sure use the download .pem file or any downloaded from aws. 
use this command to copy the key to remote server as well in order to avoid copying again and again

---------------------- Easy Way for Setting Passwordless Authentication---------------------------------------
1: Create ssh-keys using this command: ssh-keygen
2: using below command command to copy the keys to the remote server: 
  ssh-copy-id -i ~/.ssh/id_ed25519.pub -f -o IdentityFile=~/key.pem ubuntu@Public_Ip

using the above command then servers can be easily access either username@ip or public or private ip only
--------------------------------------------------------------------------------------------------------------

ssh-copy-id -f "-o IdentityFile ~/pathFile.pem" user@ip of user
e.g:      ssh-copy-id -f "-o IdentityFile ~/path_to_file.pem" ubuntu@172.31.1.1
or the longest form of the command with full description

ssh-copy-id -f -i ~/.ssh/id_ed25519.pub -o IdentitiesOnly=yes -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -i ~/.ssh/2ansible.pem ubuntu@44.212.28.116

description: 
ssh-copy-id: The main command to copy your public key to the remote server.

-f: Force re-copying the key even if it’s already present.

-i ~/.ssh/id_ed25519.pub: The public key you want to copy.

-o IdentitiesOnly=yes: Forces SSH to use only the identity file (not agent keys).

-o StrictHostKeyChecking=no: Prevents prompts if the host is not known.

-o UserKnownHostsFile=/dev/null: Avoids writing the host to known_hosts.

-i ~/.ssh/2ansible.pem: The private key used for connecting to the remote server (e.g., AWS key).

ubuntu@44.212.28.116: The user@host you’re connecting to.

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

In case ssh-keygen command is used by you or someone else that will
create new key and downoladed key may fail to authenticat with remote server.
in that case we need to copy the .pub file from host to remote server. The shortcut command is : 

cat ~/.ssh/id_ed25519.pub | ssh -i ~/.ssh/2ansible.pem ubuntu@44.212.28.116 'mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys && chmod 600 ~/.ssh/authorized_keys'

